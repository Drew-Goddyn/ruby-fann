<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class RubyFann::TrainData - Ruby FANN Gem documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>ext/ruby_fann/ruby_fann.c
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-length">#length</a>
    
    <li><a href="#method-i-save">#save</a>
    
    <li><a href="#method-i-shuffle">#shuffle</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../README_txt.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../RubyFann.html">RubyFann</a>
  
    <li><a href="../RubyFann/Shortcut.html">RubyFann::Shortcut</a>
  
    <li><a href="../RubyFann/Standard.html">RubyFann::Standard</a>
  
    <li><a href="../RubyFann/TrainData.html">RubyFann::TrainData</a>
  
    <li><a href="../RubyFann/VERSION.html">RubyFann::VERSION</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class RubyFann::TrainData</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            new(hash) &rarr; new ruby-fann training data object (RubyFann::TrainData)
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <pre class="ruby"><span class="ruby-constant">Initialize</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">one</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">following</span> <span class="ruby-identifier">forms</span><span class="ruby-operator">:</span>

<span class="ruby-comment"># This is a flat file with training data as described in FANN docs.</span>
<span class="ruby-constant">RubyFann</span><span class="ruby-operator">::</span><span class="ruby-constant">TrainData</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">filename</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'path/to/training_file.train'</span>)
</pre>

<p>OR</p>

<pre class="ruby"><span class="ruby-comment"># Train with inputs (array of arrays) &amp; desired_outputs (array of arrays)</span>
<span class="ruby-comment"># inputs &amp; desired outputs should be of same length</span>
<span class="ruby-comment"># All sub-arrays on inputs should be of same length</span>
<span class="ruby-comment"># All sub-arrays on desired_outputs should be of same length</span>
<span class="ruby-comment"># Sub-arrays on inputs &amp; desired_outputs can be different sizes from one another</span>
<span class="ruby-constant">RubyFann</span><span class="ruby-operator">::</span><span class="ruby-constant">TrainData</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">inputs=</span><span class="ruby-operator">&gt;</span>[[<span class="ruby-value">0.2</span>, <span class="ruby-value">0.3</span>, <span class="ruby-value">0.4</span>], [<span class="ruby-value">0.8</span>, <span class="ruby-value">0.9</span>, <span class="ruby-value">0.7</span>]], :<span class="ruby-identifier">desired_outputs=</span><span class="ruby-operator">&gt;</span>[[<span class="ruby-value">3.14</span>], [<span class="ruby-value">6.33</span>]])
</pre>
          

          
          <div class="method-source-code" id="new-source">
            <pre>static VALUE fann_train_data_initialize(VALUE self, VALUE hash)
{
    struct fann_train_data* train_data;
    Check_Type(hash, T_HASH);
  
    VALUE filename = rb_hash_aref(hash, ID2SYM(rb_intern(&quot;filename&quot;)));
    VALUE inputs = rb_hash_aref(hash, ID2SYM(rb_intern(&quot;inputs&quot;)));
    VALUE desired_outputs = rb_hash_aref(hash, ID2SYM(rb_intern(&quot;desired_outputs&quot;)));

    if (TYPE(filename)==T_STRING) 
    {
        train_data = fann_read_train_from_file(StringValuePtr(filename));
        DATA_PTR(self) = train_data;
    } 
    else if (TYPE(inputs)==T_ARRAY) 
    {
        if (TYPE(desired_outputs)!=T_ARRAY)
        {
            rb_raise (rb_eRuntimeError, &quot;[desired_outputs] must be present when [inputs] used.&quot;);
        }

        if (RARRAY_LEN(inputs) &lt; 1)
        {
            rb_raise (rb_eRuntimeError, &quot;[inputs/desired_outputs] must contain at least one value.&quot;);
        }

        // The data is here, start constructing:
        if(RARRAY_LEN(inputs) != RARRAY_LEN(desired_outputs)) 
        {
            rb_raise (
                rb_eRuntimeError, 
                &quot;Number of inputs must match number of outputs: (%d != %d)&quot;, 
                (int)RARRAY_LEN(inputs), 
                (int)RARRAY_LEN(desired_outputs));
        }

        train_data = fann_create_train_from_rb_ary(inputs, desired_outputs);        
        DATA_PTR(self) = train_data;                
    } 
    else 
    {
        rb_raise (rb_eRuntimeError, &quot;Must construct with a filename(string) or inputs/desired_outputs(arrays).  All args passed via hash with symbols as keys.&quot;);
    }
    
    return (VALUE)train_data;
}</pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-length" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">length</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Length of training data</p>
          

          
          <div class="method-source-code" id="length-source">
            <pre>static VALUE length_train_data(VALUE self)
{
    struct fann_train_data* t; 
    Data_Get_Struct (self, struct fann_train_data, t);  
    return(UINT2NUM(fann_length_train_data(t)));
    return self;
}</pre>
          </div><!-- length-source -->
          
        </div>

        

        
      </div><!-- length-method -->

    
      <div id="method-i-save" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            save(filename)
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Save to given filename</p>
          

          
          <div class="method-source-code" id="save-source">
            <pre>static VALUE training_save(VALUE self, VALUE filename)
{
    Check_Type(filename, T_STRING); 
    struct fann_train_data* t;
    Data_Get_Struct (self, struct fann_train_data, t);  
    fann_save_train(t, StringValuePtr(filename));
    return self;    
}</pre>
          </div><!-- save-source -->
          
        </div>

        

        
      </div><!-- save-method -->

    
      <div id="method-i-shuffle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">shuffle</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Shuffles training data, randomizing the order.  This is recommended for
incremental training, while it will have no influence during batch
training.</p>
          

          
          <div class="method-source-code" id="shuffle-source">
            <pre>static VALUE shuffle(VALUE self)
{
    struct fann_train_data* t; 
    Data_Get_Struct (self, struct fann_train_data, t);  
    fann_shuffle_train_data(t);
    return self;
}</pre>
          </div><!-- shuffle-source -->
          
        </div>

        

        
      </div><!-- shuffle-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

